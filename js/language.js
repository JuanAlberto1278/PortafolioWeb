const translations = {
    es: {

      // --- Navegaci√≥n (Ya ten√≠as la mayor√≠a, ajusto habilidades) ---
      nav_inicio: "Inicio",
      nav_sobremi: "Sobre m√≠",
      nav_habilidadesT: "Habilidades T√©cnicas", // Clave separada
      nav_habilidadesB: "Habilidades Blandas", // Clave separada
      nav_idiomas: "Idiomas",
      nav_educacion: "Educaci√≥n",
      nav_logros: "Logros",
      nav_certificaciones: "Certificaciones",
      nav_proyectos: "Proyectos",
      nav_contacto: "Contacto",

      // --- Secci√≥n Inicio ---
      saludo: "¬°Hola! Soy Juan Alberto Mora",
      descripcion:
        "Desarrollador de software apasionado por crear experiencias digitales impactantes.",

      // --- Secci√≥n Sobre M√≠ ---
      sobreMi: "Sobre m√≠",
      sobreMiTexto: `Soy Ingeniero en Desarrollo de Software. Cuento con experiencia en desarrollo web utilizando tecnolog√≠as como <strong>HTML</strong>, <strong>CSS</strong>, <strong>JavaScript</strong>, y frameworks modernos como <strong>Angular</strong>. Adem√°s, tengo conocimientos en desarrollo <strong>Back-End</strong> con <strong>Java</strong> y <strong>C#</strong>.`,

      // --- Secci√≥n Habilidades T√©cnicas ---
      habilidadesTec: "Habilidades T√©cnicas",
      habTec_html: "HTML",
      habTec_css: "CSS",
      habTec_js: "JavaScript",
      habTec_java: "Java",
      habTec_angular: "Angular",
      habTec_csharp: "C#",

      // --- Secci√≥n Habilidades Blandas ---
      habilidadesBlandas: "Habilidades Blandas",
      habBlan_equipo: "Trabajo en equipo",
      habBlan_problemas: "Resoluci√≥n de problemas",
      habBlan_liderazgo: "Liderazgo",
      habBlan_responsabilidad: "Responsabilidad",

      // --- Secci√≥n Idiomas ---
      lenguajes: "Lenguajes", // Cambiado de 'idiomas' para coincidir con H2
      idi_espanol: "<strong>Espa√±ol:</strong> Nativo",
      idi_ingles: "<strong>Ingl√©s:</strong> Intermedio",

      // --- Secci√≥n Educaci√≥n ---
      educacion: "Educaci√≥n",
      educacionTexto: `<strong>Universidad Cenfotec</strong><br />Bachillerato en Ingenier√≠a de Software<br />üìÖ 2023 - 2026<br />üìç San Jos√©, Costa Rica`,

      // --- Secci√≥n Logros ---
      logros: "Logros Obtenidos",
      logro_db_titulo: "<strong>Administrador de Base de Datos</strong>",
      logro_db_desc:
        "Proyecto grupal sobre una base de datos para un cine.",
      logro_qa_titulo:
        "<strong>Aseguramiento de Calidad y Desarrollo Front-End</strong>",
      logro_qa_desc:
        "Proyecto grupal: P√°gina de juegos para ni√±os enfocada en habilidades STEAM.",
      logro_be_titulo: "<strong>Desarrollo Back-End</strong>",
      logro_be_desc:
        "Proyecto grupal: Aplicaci√≥n de rese√±as de sitios de vacaciones.",

      // --- Secci√≥n Certificaciones ---
      certificaciones: "Certificaciones",
      cert_ti_titulo: "<strong>Certificaci√≥n T√©cnico de TI</strong>",
      cert_ti_desc:
        "Instituto Nacional del Aprendizaje ‚Äî 2020<br />üìç San Jos√©, Costa Rica",
      cert_scrum_titulo: "<strong>Certificaci√≥n Scrum</strong>",
      cert_scrum_desc: "ScrumStudy ‚Äî 2023",

      // --- Secci√≥n Proyectos ---
      proyectos: "Proyectos",
      proj1_titulo: "Cenfomon",
      proj1_desc: "Peque√±o juego basado en el juego Pok√©mon",
      proj2_titulo: "Mindmat",
      proj2_desc:
        "P√°gina de juegos basada en el modelo de Aprendizaje STEAM, dise√±ada especialmente para ni√±os",
      proj3_titulo: "Simecid",
      proj3_desc: "Simulaci√≥n de Programa de Citas M√©dicas",
      proj4_titulo: "Base de datos simple",
      proj4_desc:
        "Peque√±o proyecto de gesti√≥n de tareas, usando una base de datos para pruebas",

      // --- Secci√≥n Contacto ---
      contacto: "Contacto",
      form_nombre: "Tu nombre",
      form_email: "Tu correo electr√≥nico",
      form_mensaje: "Escribe tu mensaje...",
      enviar: "Enviar mensaje",
      mensajeExito: "¬°Mensaje enviado con √©xito!",

      // --- Footer ---
      footer_texto:
        "&copy; 2025 Juan Alberto Mora. Todos los derechos reservados.",
    },
    en: {

      // --- Navegaci√≥n ---
      nav_inicio: "Home",
      nav_sobremi: "About Me",
      nav_habilidadesT: "Technical Skills", // Clave separada
      nav_habilidadesB: "Soft Skills", // Clave separada
      nav_idiomas: "Languages",
      nav_educacion: "Education",
      nav_logros: "Achievements",
      nav_certificaciones: "Certifications",
      nav_proyectos: "Projects",
      nav_contacto: "Contact",

      // --- Secci√≥n Inicio ---
      saludo: "Hi! I'm Juan Alberto Mora",
      descripcion:
        "Software developer passionate about creating impactful digital experiences.",

      // --- Secci√≥n Sobre M√≠ ---
      sobreMi: "About Me",
      sobreMiTexto: `I am a Software Development Engineer. I have experience in web development using technologies like <strong>HTML</strong>, <strong>CSS</strong>, <strong>JavaScript</strong>, and modern frameworks like <strong>Angular</strong>. Additionally, I have knowledge in <strong>Back-End</strong> development with <strong>Java</strong> and <strong>C#</strong>.`, // Adjusted translation slightly

      // --- Secci√≥n Habilidades T√©cnicas ---
      habilidadesTec: "Technical Skills",
      habTec_html: "HTML",
      habTec_css: "CSS",
      habTec_js: "JavaScript",
      habTec_java: "Java",
      habTec_angular: "Angular",
      habTec_csharp: "C#", // Corrected case

      // --- Secci√≥n Habilidades Blandas ---
      habilidadesBlandas: "Soft Skills",
      habBlan_equipo: "Teamwork",
      habBlan_problemas: "Problem Solving",
      habBlan_liderazgo: "Leadership",
      habBlan_responsabilidad: "Responsibility",

      // --- Secci√≥n Idiomas ---
      lenguajes: "Languages",
      idi_espanol: "<strong>Spanish:</strong> Native",
      idi_ingles: "<strong>English:</strong> Intermediate",

      // --- Secci√≥n Educaci√≥n ---
      educacion: "Education",
      educacionTexto: `<strong>Universidad Cenfotec</strong><br />Bachelor's Degree in Software Engineering<br />üìÖ 2023 - 2026<br />üìç San Jos√©, Costa Rica`,

      // --- Secci√≥n Logros ---
      logros: "Achievements",
      logro_db_titulo: "<strong>Database Administrator</strong>",
      logro_db_desc: "Group project on a database for a cinema.",
      logro_qa_titulo:
        "<strong>Quality Assurance & Front-End Development</strong>",
      logro_qa_desc:
        "Group project: Children's game page focused on STEAM skills.",
      logro_be_titulo: "<strong>Back-End Development</strong>",
      logro_be_desc: "Group project: Vacation site review application.",

      // --- Secci√≥n Certificaciones ---
      certificaciones: "Certifications",
      cert_ti_titulo: "<strong>IT Technician Certification</strong>",
      cert_ti_desc:
        "National Learning Institute ‚Äî 2020<br />üìç San Jos√©, Costa Rica",
      cert_scrum_titulo: "<strong>Scrum Certification</strong>",
      cert_scrum_desc: "ScrumStudy ‚Äî 2023",

      // --- Secci√≥n Proyectos ---
      proyectos: "Projects",
      proj1_titulo: "Cenfomon",
      proj1_desc: "Small game based on the Pok√©mon game",
      proj2_titulo: "Mindmat",
      proj2_desc:
        "Game page based on the STEAM learning model, designed especially for children",
      proj3_titulo: "Simecid",
      proj3_desc: "Medical Appointment Program Simulation",
      proj4_titulo: "Simple Database",
      proj4_desc: "Small task management project, using a test database",

      // --- Secci√≥n Contacto ---
      contacto: "Contact",
      form_nombre: "Your name",
      form_email: "Your email address",
      form_mensaje: "Write your message...",
      enviar: "Send message",
      mensajeExito: "Message sent successfully!",

      // --- Footer ---
      footer_texto: "&copy; 2025 Juan Alberto Mora. All rights reserved.",
    },
  };

  const setTranslation = (lang) => {
    const t = translations[lang];

    // --- Funci√≥n auxiliar para traducir elementos con data-key ---
    const translateElement = (
      selector,
      attribute = "textContent",
      useInnerHTML = false
    ) => {
      const element = document.querySelector(selector);
      if (element) {
        const key = element.getAttribute("data-key");
        if (key && t[key]) {
          if (useInnerHTML) {
            element.innerHTML = t[key];
          } else {
            element[attribute] = t[key];
          }
        }
      } else {
        console.warn(`Element not found for selector: ${selector}`);
      }
    };

    // --- Funci√≥n auxiliar para traducir m√∫ltiples elementos con data-key ---
    const translateMultipleElements = (
      selector,
      attribute = "textContent",
      useInnerHTML = false
    ) => {
      document.querySelectorAll(selector).forEach((element) => {
        const key = element.getAttribute("data-key");
        if (key && t[key]) {
          if (useInnerHTML) {
            element.innerHTML = t[key];
          } else {
            element[attribute] = t[key];
          }
        } else if (key) {
          console.warn(`Translation key not found for: ${key}`);
        }
      });
    };

    // --- Metadatos ---
    document.title = t.pageTitle || document.title; // Usa el t√≠tulo existente como fallback

    // --- Navegaci√≥n (Usando data-key que ya ten√≠as) ---
    translateMultipleElements("#navbar a, .mobile-nav a");

    // --- Secciones Principales (Usando data-key a√±adido en HTML) ---
    translateElement("#inicio h2", "textContent"); // Key 'saludo'
    translateElement("#inicio p", "textContent"); // Key 'descripcion'

    translateElement("#sobremi h2", "textContent"); // Key 'sobreMi'
    translateElement("#sobremi .tarjeta p", "innerHTML", true); // Key 'sobreMiTexto', usa innerHTML

    translateElement("#habilidadesT h2", "textContent"); // Key 'habilidadesTec'
    translateMultipleElements("#habilidadesT ul li"); // Usa data-key en cada li

    translateElement("#habilidadesB h2", "textContent"); // Key 'habilidadesBlandas'
    translateMultipleElements("#habilidadesB ul li"); // Usa data-key en cada li

    translateElement("#idiomas h2", "textContent"); // Key 'lenguajes'
    translateMultipleElements("#idiomas ul li", "innerHTML", true); // Usa data-key e innerHTML

    translateElement("#educacion h2", "textContent"); // Key 'educacion'
    translateElement("#educacion .tarjeta p", "innerHTML", true); // Key 'educacionTexto', usa innerHTML

    translateElement("#logros h2", "textContent"); // Key 'logros'
    // Para logros y certificaciones, traducimos los elementos internos con data-key
    translateMultipleElements("#logros ul li strong", "innerHTML", true);
    translateMultipleElements("#logros ul li span", "innerHTML", true);

    translateElement("#certificaciones h2", "textContent"); // Key 'certificaciones'
    translateMultipleElements(
      "#certificaciones ul li strong",
      "innerHTML",
      true
    );
    translateMultipleElements(
      "#certificaciones ul li span",
      "innerHTML",
      true
    );

    translateElement("#proyectos h2", "textContent"); // Key 'proyectos'
    translateMultipleElements("#proyectos .proyecto h3"); // Usa data-key en cada h3
    translateMultipleElements("#proyectos .proyecto p"); // Usa data-key en cada p

    // --- Contacto ---
    translateElement("#contacto h2", "textContent"); // Key 'contacto'
    translateElement('#contactForm input[name="nombre"]', "placeholder"); // Key 'form_nombre'
    translateElement('#contactForm input[name="email"]', "placeholder"); // Key 'form_email'
    translateElement(
      '#contactForm textarea[name="mensaje"]',
      "placeholder"
    ); // Key 'form_mensaje'
    translateElement("#contactForm button", "textContent"); // Key 'enviar'
    translateElement("#mensaje-enviado", "textContent"); // Key 'mensajeExito'

    // --- Footer ---
    translateElement("footer p", "innerHTML", true); // Key 'footer_texto', usa innerHTML

    // --- Bot√≥n de cambio de idioma ---
    const toggleButtonMobile = document.getElementById("toggleLanguage");
    const toggleButtonDesktop = document.getElementById("toggleLanguageDesktop");
    if (toggleButtonMobile) {
      toggleButtonMobile.textContent = lang === "es" ? "EN" : "ES";
    }
  
    if (toggleButtonDesktop) {
      toggleButtonDesktop.textContent = lang === "es" ? "EN" : "ES";
    }
  };
  
  document.addEventListener("DOMContentLoaded", () => {
    let currentLang = "es"; // O el idioma por defecto que prefieras
  
    // --- Manejar clics en el bot√≥n de idioma (m√≥vil) ---
    const btnMobile = document.getElementById("toggleLanguage");
    if (btnMobile) {
      btnMobile.addEventListener("click", () => {
        currentLang = currentLang === "es" ? "en" : "es";
        setTranslation(currentLang);
      });
    }
  
    // --- Manejar clics en el bot√≥n de idioma (escritorio) ---
    const btnDesktop = document.getElementById("toggleLanguageDesktop");
    if (btnDesktop) {
      btnDesktop.addEventListener("click", () => {
        currentLang = currentLang === "es" ? "en" : "es";
        setTranslation(currentLang);
      });
    }
  
    // Inicializar la traducci√≥n al cargar la p√°gina
    setTranslation(currentLang);
  });
  